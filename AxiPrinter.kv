#:kivy 1.1.0

Root:
    BoxLayout:
        orientation: 'horizontal'
        BoxLayout:
            orientation: 'vertical'
            Label:
                text: 'Pen Down'
                size_hint: (None, None)
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            ModifiedSlider:
                id: pen_down_slider
                min: 0
                max: 100
                value: 30
                orientation: 'vertical'
                on_release:
                    app.ad.connect()
                    app.ad.options.pen_pos_down = pen_down_slider.value 
                    app.ad.update()
                    app.ad.penup()
                    app.ad.pendown()
                    app.ad.disconnect()
                    print("Down/Up pen position", app.ad.options.pen_pos_down, app.ad.options.pen_pos_up)

        BoxLayout:
            orientation: 'vertical'
            Label:
                text: 'Pen Up'
                size_hint: (None, None)
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            ModifiedSlider:
                id: pen_up_slider
                min: 0
                max: 100
                value: 60
                orientation: 'vertical'
                on_release:
                    app.ad.connect()
                    app.ad.options.pen_pos_up = pen_up_slider.value
                    app.ad.update()
                    app.ad.pendown()
                    app.ad.penup()
                    app.ad.disconnect()
                    print("Up pen position", app.ad.options.pen_pos_down, app.ad.options.pen_pos_up)

        BoxLayout:
            orientation: 'vertical'
            size_hint_x: dp(2)

            Button:
                text: "Go Home"
                on_release:
                    app.ad.connect()
                    app.ad.mode = "resume"
                    app.ad.options.resume_mode = "home"
                    app.ad.options.units = 0
                    app.ad.update()
                    app.ad.penup()
                    app.ad.moveto(0,0)
                    app.ad.disconnect()

            Button:
                text: 'Print File'
                on_release: root.show_load()


<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"

        BoxLayout:
            size_hint_y: None
            height: 30

            Button:
                text: 'Icon View'
                on_press: filechooser.view_mode = 'icon'
            Button:
                text: 'List View'
                on_press: filechooser.view_mode = 'list'

        FileChooser:
            id: filechooser
            path: "~"
            filters: ["*.svg", "*.SVG"]
            on_submit: root.load(filechooser.selection)
            FileChooserListLayout
            FileChooserIconLayout

        BoxLayout:
            size_hint_y: None
            # height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Print"
                on_release: root.load(filechooser.selection)